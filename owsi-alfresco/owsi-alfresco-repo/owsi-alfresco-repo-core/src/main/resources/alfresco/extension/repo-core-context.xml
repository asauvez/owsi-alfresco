<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

	<!-- Node service -->
	
	<bean id="owsi.service.nodeService" class="fr.openwide.alfresco.repository.core.node.service.impl.NodeRemoteServiceImpl">
		<property name="nodeService" ref="NodeService" />
		<property name="contentService" ref="ContentService" />
		<property name="mimetypeService" ref="MimetypeService" />
		<property name="permissionService" ref="PermissionService" />
		<property name="conversionService" ref="owsi.service.conversionService" />
	</bean>

	<bean id="owsi.service.conversionService" class="fr.openwide.alfresco.repository.core.remote.service.impl.ConversionServiceImpl">
		<property name="namespacePrefixResolver" ref="NamespaceService" />
		<property name="mimetypeService" ref="MimetypeService" />
	</bean>
	
	<!-- Node webscripts -->

	<bean id="webscript.owsi.node" parent="webscript.owsi.remote" abstract="true">
		<property name="nodeService" ref="owsi.service.nodeService" />
	</bean>

	<bean id="webscript.owsi.remote.node.node-get.get" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.GetNodeWebScript" />
	<bean id="webscript.owsi.remote.node.node-children.get" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.ChildrenNodeWebScript" />
	<bean id="webscript.owsi.remote.node.node-sourceAssoc.get" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.SourceAssocNodeWebScript" />
	<bean id="webscript.owsi.remote.node.node-targetAssoc.get" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.TargetAssocNodeWebScript" />

	<bean id="webscript.owsi.remote.node.node-create.post" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.CreateNodeWebScript" />
	<bean id="webscript.owsi.remote.node.node-update.put" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.UpdateNodeWebScript" />
	<bean id="webscript.owsi.remote.node.node-delete.delete" parent="webscript.owsi.node"
			class="fr.openwide.alfresco.repository.core.node.web.script.DeleteNodeWebScript" />

	<!-- Node search service -->
	
	<bean id="owsi.service.nodeSearchService" class="fr.openwide.alfresco.repository.core.search.service.impl.NodeSearchRemoteServiceImpl">
		<property name="nodeRemoteService" ref="owsi.service.nodeService" />
		<property name="searchService" ref="SearchService" />
		<property name="conversionService" ref="owsi.service.conversionService" />
	</bean>

	<!-- Node search webscripts -->

	<bean id="webscript.owsi.remote.search.search.get" parent="webscript.owsi.remote"
			class="fr.openwide.alfresco.repository.core.search.web.script.SearchNodeWebScript">
		<property name="nodeSearchService" ref="owsi.service.nodeSearchService" />
	</bean>

	<!-- Authority service -->
	
	<bean id="owsi.service.authorityService" class="fr.openwide.alfresco.repository.core.authority.service.impl.AuthorityRemoteServiceImpl">
		<property name="nodeRemoteService" ref="owsi.service.nodeService" />
		<property name="conversionService" ref="owsi.service.conversionService" />
		<property name="authorityService" ref="AuthorityService" />
	</bean>

	<!-- Authority webscripts -->

	<bean id="webscript.owsi.authority" parent="webscript.owsi.remote" abstract="true">
		<property name="authorityRemoteService" ref="owsi.service.authorityService" />
	</bean>

	<bean id="webscript.owsi.remote.authority.get-contained-users.get" parent="webscript.owsi.authority"
			class="fr.openwide.alfresco.repository.core.authority.web.script.GetContainedUsersWebScript" />
	<bean id="webscript.owsi.remote.authority.get-contained-groups.get" parent="webscript.owsi.authority"
			class="fr.openwide.alfresco.repository.core.authority.web.script.GetContainedGroupsWebScript" />

</beans>
