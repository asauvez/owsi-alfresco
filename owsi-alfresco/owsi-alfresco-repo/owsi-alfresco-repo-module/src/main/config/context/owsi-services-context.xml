<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

	<bean id="owsi.service.classificationService" class="fr.openwide.alfresco.repo.module.classification.service.impl.ClassificationServiceImpl"
			depends-on="owsi.dictionaryBootstrap">
		<property name="nodeSearchModelService" ref="owsi.service.nodeSearchModelService"/>
		<property name="policyRepositoryService" ref="owsi.service.policyService"/>
		<property name="conversionService" ref="owsi.service.conversionService" />
		<property name="transactionService" ref="transactionService" />
		<property name="dictionaryService" ref="DictionaryService" />
		
		<property name="queryCacheMaxSize" value="${owsi.classification.queryCache.maxSize}" />
		<property name="pathCacheMaxSize" value="${owsi.classification.pathCache.maxSize}" />
		<property name="subFolderCacheMaxSize" value="${owsi.classification.subFolderCache.maxSize}" />
		
		<property name="addDeleteIfEmptyAspect" value="${owsi.classification.addDeleteIfEmptyAspect}" />
	</bean>

	<bean id="owsi.service.deleteIfEmptyService" class="fr.openwide.alfresco.repo.module.deleteifempty.service.impl.DeleteIfEmptyServiceImpl"
			depends-on="owsi.dictionaryBootstrap">
		<property name="policyRepositoryService" ref="owsi.service.policyService"/>
		<property name="conversionService" ref="owsi.service.conversionService" />
	</bean>

	<bean id="owsi.service.identificationService" class="fr.openwide.alfresco.api.module.identification.service.impl.IdentificationServiceImpl">
		<constructor-arg ref="owsi.service.nodeSearchModelService"/>
		<constructor-arg ref="owsi.service.nodeModelService"/>
	</bean>

	<bean id="owsi.service.bootstrapService" class="fr.openwide.alfresco.repo.module.bootstrap.service.impl.BootstrapServiceImpl"
			depends-on="owsi.dictionaryBootstrap">
		<property name="personService" ref="PersonService"/>
		<property name="authorityService" ref="AuthorityService"/>
		<property name="authenticationService" ref="AuthenticationService"/>
		<property name="categoryService" ref="CategoryService"/>
		<property name="importerBootstrap" ref="spacesBootstrap" />
	</bean>

	<bean id="owsi.patch.parent" abstract="true" parent="module.baseComponent"/>
	<!-- Pour dÃ©clarer un patch en XML :
	<bean id="[...]" class="[... extends AbstractBootstrapPatch]" parent="owsi.patch.parent">
		<property name="moduleId" value="${alfresco.module.name}" />
	</bean>
	 -->

</beans>
