<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

	<!-- Node search service -->
	
	<bean id="owsi.service.nodeSearchService" class="fr.openwide.alfresco.query.repo.service.impl.NodeSearchRemoteServiceImpl">
		<property name="nodeService" ref="NodeService" />
		<property name="searchService" ref="SearchService" />
		<property name="permissionService" ref="PermissionService" />
		<property name="conversionService" ref="owsi.service.conversionService" />
	</bean>

	<bean id="owsi.service.conversionService" class="fr.openwide.alfresco.query.repo.service.impl.ConversionServiceImpl">
		<property name="namespacePrefixResolver" ref="NamespaceService" />
	</bean>
	
	<!-- Node search webscripts -->

	<bean id="webscript.owsi.query.node" parent="webscript.owsi.remote" abstract="true">
		<property name="nodeSearchService" ref="owsi.service.nodeSearchService" />
	</bean>

	<bean id="webscript.owsi.query.node.get.post" parent="webscript.owsi.query.node"
			class="fr.openwide.alfresco.query.repo.web.scripts.GetNodeWebScript" />
	<bean id="webscript.owsi.query.node.search.post" parent="webscript.owsi.query.node"
			class="fr.openwide.alfresco.query.repo.web.scripts.SearchNodeWebScript" />
	<bean id="webscript.owsi.query.node.children.post" parent="webscript.owsi.query.node"
			class="fr.openwide.alfresco.query.repo.web.scripts.ChildrenNodeWebScript" />
	<bean id="webscript.owsi.query.node.sourceAssoc.post" parent="webscript.owsi.query.node"
			class="fr.openwide.alfresco.query.repo.web.scripts.SourceAssocNodeWebScript" />
	<bean id="webscript.owsi.query.node.targetAssoc.post" parent="webscript.owsi.query.node"
			class="fr.openwide.alfresco.query.repo.web.scripts.TargetAssocNodeWebScript" />

</beans>
